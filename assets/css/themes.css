/* ===== DARK THEME ===== */
[data-theme="dark"] {
    /* Dark theme colors */
    --background-color: #0d1117;
    --surface-color: #161b22;
    --card-color: #21262d;
    --border-color: #30363d;
    --divider-color: #373e47;
    
    --text-primary: #f0f6fc;
    --text-secondary: #8b949e;
    --text-muted: #656d76;
    --text-inverse: #0d1117;
    
    --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.3);
    --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.4);
}

/* Theme transition animations */
* {
    transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
}

/* ===== THEME TOGGLE ANIMATIONS ===== */
.theme-toggle i {
    transition: transform 0.3s ease;
}

[data-theme="dark"] .theme-toggle i {
    transform: rotate(180deg);
}

[data-theme="dark"] .theme-toggle i::before {
    content: "\f185"; /* fa-sun */
}

/* ===== SYNTAX HIGHLIGHTING THEMES ===== */
/* Light theme code blocks */
[data-theme="light"] .hljs {
    background: #f8f9fa;
    color: #2c3e50;
}

[data-theme="light"] .hljs-keyword {
    color: #d73a49;
}

[data-theme="light"] .hljs-string {
    color: #032f62;
}

[data-theme="light"] .hljs-comment {
    color: #6a737d;
}

[data-theme="light"] .hljs-number {
    color: #005cc5;
}

[data-theme="light"] .hljs-function {
    color: #6f42c1;
}

/* Dark theme code blocks */
[data-theme="dark"] .hljs {
    background: #161b22;
    color: #f0f6fc;
}

[data-theme="dark"] .hljs-keyword {
    color: #ff7b72;
}

[data-theme="dark"] .hljs-string {
    color: #a5d6ff;
}

[data-theme="dark"] .hljs-comment {
    color: #8b949e;
}

[data-theme="dark"] .hljs-number {
    color: #79c0ff;
}

[data-theme="dark"] .hljs-function {
    color: #d2a8ff;
}

/* ===== SCROLLBAR THEMING ===== */
/* Light theme scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: var(--surface-color);
}

::-webkit-scrollbar-thumb {
    background: var(--border-color);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--text-muted);
}

/* Firefox scrollbar */
* {
    scrollbar-width: thin;
    scrollbar-color: var(--border-color) var(--surface-color);
}

/* ===== SELECTION THEMING ===== */
::selection {
    background: rgba(88, 101, 242, 0.3);
    color: var(--text-primary);
}

::-moz-selection {
    background: rgba(88, 101, 242, 0.3);
    color: var(--text-primary);
}

/* ===== FOCUS STYLES ===== */
:focus-visible {
    outline: 2px solid var(--primary-color);
    outline-offset: 2px;
}

/* ===== DARK THEME SPECIFIC ADJUSTMENTS ===== */
[data-theme="dark"] .search-results {
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.6);
}

[data-theme="dark"] .btn-success {
    color: var(--text-inverse);
}

[data-theme="dark"] .btn-success:hover {
    color: var(--text-inverse);
}

[data-theme="dark"] .social-links a:hover {
    color: var(--text-inverse);
}

/* ===== REDUCED MOTION ===== */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
    
    html {
        scroll-behavior: auto;
    }
}

/* ===== HIGH CONTRAST MODE ===== */
@media (prefers-contrast: high) {
    :root {
        --border-color: #000000;
        --text-secondary: #000000;
    }
    
    [data-theme="dark"] {
        --border-color: #ffffff;
        --text-secondary: #ffffff;
    }
}

/* ===== THEME PERSISTENCE ===== */
.theme-transition {
    transition: none !important;
}

/* ===== AUTO THEME DETECTION ===== */
@media (prefers-color-scheme: dark) {
    :root:not([data-theme]) {
        --background-color: #0d1117;
        --surface-color: #161b22;
        --card-color: #21262d;
        --border-color: #30363d;
        --divider-color: #373e47;
        
        --text-primary: #f0f6fc;
        --text-secondary: #8b949e;
        --text-muted: #656d76;
        --text-inverse: #0d1117;
        
        --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3);
        --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.3);
        --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.4);
    }
}