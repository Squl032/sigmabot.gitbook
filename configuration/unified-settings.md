# ⚙️ 統一設定系統

## 🎯 **系統總覽**

Sigma Bot 的統一設定系統將所有配置選項整合到一個直觀的介面中，讓管理員能夠輕鬆管理機器人的所有功能。

### 🚀 **啟動設定面板**

使用以下指令開啟統一設定系統：

```
/settings
```

系統會顯示一個包含 **7大主要類別** 的互動面板，每個類別都包含相關的設定選項。

---

## 🗂️ **設定類別詳解**

### 🔒 **類別 1：安全系統**

管理伺服器的核心安全功能，保護社群免受各種威脅。

#### 📋 **包含功能**
- **防邀請連結** - 自動偵測和刪除其他伺服器邀請連結
- **防洗版機制** - 檢測重複訊息、快速傳送和垃圾內容
- **防突襲保護** - 監控異常加入行為，自動啟動保護模式
- **全域封鎖管理** - 跨伺服器黑名單系統

#### ⚙️ **設定選項**
```
🔐 防邀請連結：
  ├── 啟用狀態：開啟/關閉
  ├── 白名單伺服器：允許的邀請連結
  ├── 處罰方式：警告/禁言/踢出
  └── 例外身分組：免疫檢查的身分組

🛡️ 防洗版系統：
  ├── 訊息間隔限制：秒數設定
  ├── 重複訊息檢測：開啟/關閉
  ├── 自動處罰：警告/禁言時長
  └── 信任身分組：免疫檢查的身分組

🚨 防突襲保護：
  ├── 觸發閾值：同時加入人數
  ├── 監控時間窗口：分鐘設定
  ├── 自動鎖定：是/否
  └── 通知頻道：管理員通知頻道
```

### 🛡️ **類別 2：防護系統**

進階防護功能，處理更細緻的威脅和騷擾行為。

#### 📋 **包含功能**
- **幽靈提及過濾** - 防止大量無意義提及
- **黑名單詞彙管理** - 自訂禁用詞彙列表
- **連結安全檢查** - 檢查惡意網站和釣魚連結
- **威脅偵測** - AI 驅動的內容威脅分析

#### ⚙️ **設定選項**
```
👻 幽靈提及過濾：
  ├── 最大提及人數：數量限制
  ├── 提及冷卻時間：秒數設定
  ├── 自動刪除：是/否
  └── 警告閾值：觸發警告的次數

📝 黑名單詞彙：
  ├── 詞彙列表：新增/刪除/編輯
  ├── 模糊匹配：開啟/關閉
  ├── 處理方式：刪除/警告/禁言
  └── 例外情況：特殊身分組豁免

🔗 連結安全檢查：
  ├── URL 掃描：開啟/關閉
  ├── 白名單域名：信任的網站
  ├── 黑名單域名：禁止的網站
  └── 處理動作：警告/刪除/禁言
```

### 🎛️ **類別 3：伺服器管理**

核心伺服器管理設定，包括頻道、身分組和日誌配置。

#### 📋 **包含功能**
- **頻道設定配置** - 指定各功能專用頻道
- **身分組管理** - 自動身分組分配和管理
- **審核日誌設定** - 管理操作記錄和通知
- **權限配置** - 細緻的權限控制

#### ⚙️ **設定選項**
```
📢 頻道設定：
  ├── 歡迎頻道：新成員歡迎訊息
  ├── 離開頻道：成員離開通知
  ├── 審核日誌：管理操作記錄
  ├── 公告頻道：重要通知發布
  ├── 音樂頻道：音樂指令專用
  └── 檢舉頻道：用戶檢舉處理

👑 身分組管理：
  ├── 預設身分組：新成員自動獲得
  ├── 管理員身分組：完整管理權限
  ├── 版主身分組：基本管理權限
  ├── 信任身分組：部分限制豁免
  └── 禁言身分組：禁言功能身分組

📊 審核日誌：
  ├── 記錄類型：選擇要記錄的事件
  ├── 詳細程度：簡要/詳細/完整
  ├── 自動清理：舊日誌自動刪除
  └── 通知設定：即時通知管理員
```

### 👥 **類別 4：用戶管理**

用戶相關的管理功能，包括申訴、警告和檢舉系統。

#### 📋 **包含功能**
- **申訴系統設定** - 用戶申訴管道和處理流程
- **警告系統配置** - 警告累積和自動處罰
- **檢舉系統啟用** - 用戶檢舉機制和處理

#### ⚙️ **設定選項**
```
🙏 申訴系統：
  ├── 申訴頻道：用戶提交申訴
  ├── 處理頻道：管理員處理申訴
  ├── 自動回應：申訴確認訊息
  └── 處理時限：回應時間要求

⚠️ 警告系統：
  ├── 警告有效期：警告過期時間
  ├── 自動處罰：累積警告觸發處罰
  ├── 處罰等級：1警告=禁言，3警告=踢出
  └── 通知設定：警告通知用戶

🚨 檢舉系統：
  ├── 檢舉頻道：匿名檢舉處理
  ├── 檢舉類型：騷擾/洗版/不當內容
  ├── 自動處理：明顯違規自動處理
  └── 回饋機制：檢舉結果通知
```

### 🎯 **類別 5：功能模組**

控制機器人各種功能模組的開啟和配置。

#### 📋 **包含功能**
- **音樂系統啟用** - 音樂播放功能配置
- **遊戲功能設定** - 扭蛋、抽獎等娛樂功能
- **實用工具配置** - 各種實用指令設定
- **經濟系統啟用** - 虛擬貨幣和交易系統

#### ⚙️ **設定選項**
```
🎵 音樂系統：
  ├── 功能狀態：啟用/停用
  ├── 專用頻道：音樂指令限制頻道
  ├── 音量限制：最大音量設定
  ├── 佇列限制：最大歌曲數量
  └── 自動斷線：無人時自動離開

🎮 遊戲功能：
  ├── 扭蛋系統：啟用/停用
  ├── 抽獎系統：啟用/停用
  ├── 等級系統：啟用/停用
  └── 經濟系統：啟用/停用

🔧 實用工具：
  ├── 圖片工具：去背/搜尋等功能
  ├── 連結工具：短網址/資訊查詢
  ├── 投票系統：啟用/停用
  └── 提醒功能：個人提醒系統
```

### 🤖 **類別 6：自動化**

各種自動化功能的配置和管理。

#### 📋 **包含功能**
- **歡迎訊息設定** - 新成員加入歡迎
- **自動發布配置** - 公告自動發布到多頻道
- **AI 聊天啟用** - 智能聊天機器人功能

#### ⚙️ **設定選項**
```
👋 歡迎系統：
  ├── 歡迎訊息：自訂歡迎文字
  ├── 歡迎圖片：自訂歡迎圖片
  ├── 私訊歡迎：是否私訊新成員
  ├── 身分組指派：自動分配身分組
  └── 規則展示：自動顯示伺服器規則

📢 自動發布：
  ├── 來源頻道：監控的公告頻道
  ├── 目標頻道：自動發布到的頻道
  ├── 發布條件：訊息類型/關鍵字
  ├── 格式設定：發布訊息格式
  └── 延遲設定：發布延遲時間

🧠 AI 聊天：
  ├── 功能啟用：開啟/關閉
  ├── 觸發方式：提及/關鍵字/隨機
  ├── 回應頻率：回應機率設定
  ├── 個性設定：AI 角色個性
  └── 學習模式：從對話中學習
```

### ⚙️ **類別 7：系統設定**

機器人系統層級的配置和優化設定。

#### 📋 **包含功能**
- **語言偏好設定** - 介面語言選擇
- **快取管理** - 記憶體快取配置
- **資料庫配置** - 資料庫連接和優化
- **效能調整** - 系統效能優化

#### ⚙️ **設定選項**
```
🌐 語言設定：
  ├── 介面語言：繁體中文/English
  ├── 指令回應語言：回應訊息語言
  ├── 錯誤訊息語言：錯誤提示語言
  └── 時區設定：本地時區配置

💾 快取管理：
  ├── 快取大小：記憶體使用限制
  ├── 快取時間：資料保存時間
  ├── 自動清理：定期清理過期資料
  └── 預載入：常用資料預先載入

🗄️ 資料庫設定：
  ├── 連接池大小：資料庫連接數
  ├── 查詢超時：查詢最大等待時間
  ├── 自動備份：定期資料備份
  └── 優化排程：資料庫性能優化

⚡ 效能調整：
  ├── 指令冷卻：防止濫用的冷卻時間
  ├── 並發限制：同時處理請求數量
  ├── 記憶體監控：記憶體使用警告
  └── 自動重啟：故障自動恢復
```

---

## 🎯 **快速設定向導**

### ⚡ **新伺服器推薦設定**

對於新設置的伺服器，建議按以下順序進行配置：

#### 🥇 **第一優先級：基本設定**
1. **伺服器管理** → 設定核心頻道（歡迎、公告、審核日誌）
2. **伺服器管理** → 配置基本身分組（管理員、版主、成員）
3. **安全系統** → 啟用防洗版和防邀請連結

#### 🥈 **第二優先級：安全防護**
1. **防護系統** → 設定黑名單詞彙
2. **用戶管理** → 啟用警告和檢舉系統
3. **安全系統** → 配置防突襲保護

#### 🥉 **第三優先級：功能啟用**
1. **功能模組** → 根據需求啟用音樂、遊戲等功能
2. **自動化** → 設定歡迎訊息和自動發布
3. **系統設定** → 調整語言和效能設定

### 🔧 **大型社群特殊配置**

#### 👥 **1000+ 成員伺服器**
```
安全系統：
✅ 防突襲保護 (觸發閾值: 10人/分鐘)
✅ 全域封鎖啟用
✅ 強化防洗版 (間隔: 3秒)

效能調整：
✅ 提高快取大小
✅ 增加資料庫連接池
✅ 降低日誌詳細程度
```

#### 🎮 **遊戲社群配置**
```
功能模組：
✅ 音樂系統完整啟用
✅ 扭蛋和抽獎系統
✅ 等級系統和排行榜

自動化：
✅ 智能歡迎訊息
✅ 活動自動發布
✅ AI 聊天機器人
```

---

## 🛠️ **進階設定技巧**

### 📊 **設定備份與還原**

#### 💾 **導出設定**
```
/settings export    # 導出當前所有設定為檔案
```

#### 📥 **導入設定**
```
/settings import    # 從備份檔案還原設定
```

### 🔄 **批次設定更新**

#### ⚡ **快速啟用安全包**
```
/settings quick-setup security    # 一鍵啟用所有安全功能
```

#### 🎮 **快速啟用娛樂包**
```
/settings quick-setup entertainment    # 一鍵啟用遊戲和娛樂功能
```

### 📈 **設定效果監控**

#### 📊 **查看設定效果**
```
/settings stats     # 查看各設定的使用統計
/health config      # 檢查設定健康狀態
```

---

## 🚨 **常見設定問題**

### ❓ **設定不生效**

**可能原因與解決方案**：
1. **權限不足** - 確認機器人有對應權限
2. **設定衝突** - 檢查是否有互相衝突的設定
3. **快取問題** - 使用 `/cache clear` 清理快取

### ❓ **設定丟失**

**預防措施**：
1. 定期使用 `/settings export` 備份設定
2. 重要變更後立即備份
3. 升級前先導出設定

### ❓ **效能影響**

**優化建議**：
1. 大型伺服器適當調整快取設定
2. 不需要的功能及時關閉
3. 定期使用 `/database optimize` 優化資料庫

---

*統一設定系統指南最後更新：2025年7月30日*  
*Sigma Bot v2.0.0*